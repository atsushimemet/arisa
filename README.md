# Arisa - キャストレコメンドサービス

エリア・接客スタイル・予算に応じた信頼できるキャストを見つけるためのプラットフォーム。SNS更新を継続する努力型キャストの集客を支援します。

## 📄 プロダクト要件定義（PRD）

### 1. プロダクトの目的
- 夜職キャストを探す男性ユーザーに対し、エリア・接客スタイル・予算に応じた「顔出し投稿キャスト」への導線をシンプルに提示し、探索負担を削減する。
- SNS更新を継続するキャストが報われる仕組みをつくり、努力型キャストの集客を支援する。
- 将来的には、キャストが目標を達成し「卒業」できる世界観を整備し、卒業キャストが過去顧客から応援される持続的な仕組みを実現する。

### 2. 背景と課題
**既存サービスの課題**
- メディア側
  - 広告が多く、導線が複雑で目的のキャスト情報にたどり着きにくい
  - 顔写真の信頼性が低く、詐欺的要素もある
- キャスト側
  - SNSで努力しているキャストが評価されにくく、集客が属人的
  - 長期的なキャリアや「卒業」の概念が欠如
- 男性ユーザー側
  - エリア・業態・予算に沿ったキャスト探しに時間がかかる
  - 信頼できるキャストを探す体験が難しい

### 3. ターゲットユーザー
- **一次ターゲット（男性ユーザー）**
  - 20代後半〜40代前半、安定収入のあるビジネスマン
  - シンプルに条件に合った信頼できるキャストを探したい層
- **二次ターゲット（キャスト／店舗）**
  - SNS発信を継続している努力型キャスト
  - 認知拡大や新しい来客層を求める店舗
- **将来的ターゲット**
  - 卒業キャストを応援したい元顧客

### 4. ユースケース（MVP）
1. 男性ユーザーがサイトに訪問
2. オンボーディング
3. オンボーディング:エリア選択
4. オンボーディング:接客スタイル選択
5. オンボーディング:予算帯選択
6. 条件に合致する「キャストSNSリンク一覧」を表示（写真はサイト内非掲載）
7. SNSを経由してキャストを確認、店舗訪問・指名へとつなげる

### 5. 主要機能（MVP）
**オンボーディングUI**
- エリア／業態／予算帯を簡潔に入力
- キャストプロフィール
  - キャスト名
  - SNSリンク（必須）
  - 店舗リンク
  - エリア／業態／予算帯

**管理機能**
- 管理者（Arisa）のみが登録可能
- 登録時にキャストのSNS更新状況をチェック可能

### 6. 将来展望
**キャスト成長・卒業の仕組み**
- キャストが目標を設定（例：月収、顧客数、フォロワー数）
- 目標達成後は「卒業」としてサイトからリストアップ
- 卒業キャストに対し、過去顧客が応援できる仕組み（寄付、コメント、SNSシェア）を整備

**機能拡張**
- キャストや店舗によるセルフ登録機能
- サイト内での写真／動画掲載
- キャスト向け分析ダッシュボード
- 全国エリア展開

## 技術スタック

- **フロントエンド**: Next.js 15, React 19, TypeScript
- **スタイリング**: Tailwind CSS（ダークテーマ対応）
- **バックエンド**: Next.js API Routes
- **データベース**: PostgreSQL
- **ORM**: Prisma
- **認証**: NextAuth.js
- **コンテナ**: Docker, Docker Compose

## 機能

### ユーザー向け機能
- **オンボーディング**: エリア・接客スタイル・予算の選択
- **キャスト検索**: 条件に基づいたキャストの検索
- **SNSリンク**: キャストのSNSへの直接アクセス
- **レスポンシブデザイン**: モバイル・デスクトップ対応

### 管理者向け機能
- **キャスト管理**: 新規登録・編集・削除
- **ステータス管理**: アクティブ/非アクティブの切り替え
- **統計情報**: キャスト数の表示

## セットアップ

### 1. 依存関係のインストール

```bash
npm install
```

### 2. 環境変数の設定

`.env.local`ファイルを作成し、以下の内容を設定してください：

```env
# Database - Supabase PostgreSQL
# SupabaseダッシュボードのSettings > Database > Connection stringから取得
DATABASE_URL="postgresql://postgres:[YOUR_PASSWORD]@db.[YOUR_PROJECT_REF].supabase.co:5432/postgres"

# NextAuth
NEXTAUTH_SECRET="your-secret-key-here-change-in-production"
NEXTAUTH_URL="http://localhost:3000"
```

#### Supabase接続文字列の取得方法：
1. [Supabase](https://supabase.com/)にログインし、プロジェクトを選択
2. Settings → Database → Connection string
3. "URI"タブから接続文字列をコピー
4. `[YOUR-PASSWORD]`を実際のデータベースパスワードに置き換え

> **注意**: 本番環境では環境変数を安全に管理してください。

### 3. データベースのセットアップ

Supabaseを使用する場合、データベースは既にクラウドで起動しています。

```bash
# Prismaマイグレーションを実行（Supabaseに対して）
npm run db:migrate

# シードデータを投入
npm run db:seed
```

> **注意**: 初回実行時は、SupabaseのダッシュボードでSQL Editorを使用してテーブルが正しく作成されているか確認してください。

### 4. 開発サーバーの起動

```bash
npm run dev
```

アプリケーションは `http://localhost:3000` で利用できます。

## Docker Compose での起動

全体をDockerで起動する場合：

```bash
# 全サービスを起動
docker-compose up -d

# ログを確認
docker-compose logs -f
```

## 使用方法

### ユーザー向け

1. **ホームページ**: `http://localhost:3000`
2. **オンボーディング**: 「キャストを探す」ボタンをクリック
3. **条件選択**: エリア → 接客スタイル → 予算帯を順番に選択
4. **結果表示**: 条件に合ったキャストが表示されます
5. **SNSアクセス**: 「SNSを見る」ボタンでキャストのSNSにアクセス

### 管理者向け

1. **管理者ページ**: `http://localhost:3000/admin`
2. **キャスト追加**: 「新しいキャストを追加」ボタンをクリック
3. **キャスト管理**: 一覧からステータス変更や削除が可能

## データベーススキーマ

### Cast（キャスト）
- `id`: 一意識別子
- `name`: キャスト名
- `snsLink`: SNSリンク（必須）
- `storeLink`: 店舗リンク（任意）
- `area`: エリア（渋谷、新宿、銀座など）
- `serviceType`: 接客スタイル（キャバクラ、ガールズバーなど）
- `budgetRange`: 予算帯（〜1万円、1-2万円など）
- `isActive`: アクティブ状態

### Admin（管理者）
- `id`: 一意識別子
- `email`: メールアドレス
- `password`: パスワード（ハッシュ化）
- `name`: 管理者名

## 開発用コマンド

```bash
# 開発サーバー起動
npm run dev

# ビルド
npm run build

# 本番サーバー起動
npm start

# リンター実行
npm run lint

# データベースマイグレーション
npm run db:migrate

# シードデータ投入
npm run db:seed

# データベースリセット
npm run db:reset
```

## デザインコンセプト

**「ダークな中の輝き」**をテーマに、以下の要素を採用：

- **ダークベース**: 深い黒とグレーを基調
- **グローエフェクト**: ピンクとゴールドの光る効果
- **アニメーション**: 滑らかなホバーエフェクトと光の演出
- **レスポンシブ**: モバイルファーストなデザイン

## 成功指標（KPI）
- **初期KPI**
  - 登録キャスト数（MVPは管理者登録のみ）
  - 月間訪問ユーザー数
  - SNSリンククリック率／店舗リンククリック率
- **将来的KPI**
  - キャストのSNS更新頻度と集客成果の相関（努力が数値化される）
  - 卒業キャストの応援件数（元顧客による支援）

## マネタイズモデル（将来的想定）
- 広告枠販売（店舗広告、キャスト優先表示枠）
- データレポート提供（SNS更新と集客効果の可視化）
- 卒業キャストへの支援プラットフォーム（投げ銭、クラファン型応援）

## 競合優位
- 広告に埋もれず、必要な導線に特化したシンプルなUI
- SNS継続更新キャストを前提にした「努力が報われる設計」
- キャストのキャリア視点（卒業と応援）まで踏み込んだ唯一のサービス

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。
